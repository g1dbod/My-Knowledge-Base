---
tags: 
title: Архитектура встраиваемых систем
create: 2024-04-24
id: 
location: 
link:
---
---
# 1. Понятие встраиваемой вычислительной системы
Встраиваемая вычислительная система — это специализированная микропроцессорная система управления, контроля и мониторинга. Она работает, будучи встроенной непосредственно в устройство, которым управляет. Такие системы имеют особенности, такие как минимальное энергопотребление, малые габариты и вес, а также собственную защиту и функции отвода тепла.

# 2. Проектирование программно-реализованных ВсС
Процесс проектирование вычислительных систем включается в себя разработку архитектуры вcс и программного обеспечения для встроенной системы основывается на выполнение функций и задач.
Какие бывают требования: функциональные, аппаратные, бизнес требования ЯП Архитектура ПО тестирование и отладка. 


# 3. Встроенное программное обеспечение
Это программное обеспечение, разработанное для встроенных систем, осуществляется управление задачами, контроля координации. Особенности работает с ограниченными ресурсами, работа в реальном времени, отказоустойчивость взаимодействует с аппаратной частью

# 4. Классификация ВсС
Системы автоматического управления, Измерительные системы, информационные системы (запрос ответ), Цифровые системы передачи данных, сложные системы реального времени, мультимедийные системы, системы управления объектами
Признакам
Топология, конструкция 
По принципу комплексирования, ВсС
полностью готовые, 
блочные, 
заказные, 
полузаказные 
смешанные.


# 5. Проблемы архитектурного проектирования ВсС
Органичные ресурсы, производительность, надежность, интеграция компонентов, безопасность, сложная разработка и тестирование

# 6. Группы архитектурных абстракций
1) базовые элементы ВС (вычислительный механизм, вычислительная платформа, архитектурный агрегат);
2) абстракции представления ВС на системном уровне (архитектура, архитектурная платформа, архитектурная модель, аспект);
3) абстракции процесса проектирования (проектирование ВсС, инфраструктура проекта, проектное пространство, аспектное пространство);
4) понятия для анализа и оценки существующих архитектурных решений (вычислительный процесс, виртуальная машина, модель вычислений).

# 7. Вычислительные абстракции
Вычислительные абстракции представляют собой концептуальные модели, которые упрощают и абстрагируют процессы вычислений и операции, выполняемые компьютерной системой. Они позволяют разработчикам работать с абстракцией, а не с низкоуровневым кодом.
Примеры: Абстракция языка программирования, Абстракция ОС, Абстракция памяти, Абстракция апаратуры, абстракция сети.

# 8. Абстрактная элементная база ВсС
Представляет собой набор абстрактных компонентов и интерфейсов, которые используются при проектировании и разработке ВС. Эти абстракции предоставляют уровень абстракции выше конкретной аппаратной реализации и позволяют разработчикам создавать и интегрировать компоненты с высокой степенью переносимости и повторного использования.
Пример: Процессор микроконтроллер, Память, устройство связи, периферийные устройства, ОС, Источник питания, двигатель.


# 9. Аспектный подход к проектированию ВсС
Является методологией, которая позволяет разделять и структурировать различные аспекты системы, такие как функциональность, безопасность, надежность, энергоэффективность и другие, в отдельные модули, называемые аспектами. Каждый аспект представляет собой логическую единицу, которая описывает и управляет определенным аспектом системы независимо от остальных.
Основные идеи и подходы: Разделение ответственности, Модульность, Сокрытие деталей реализации (инкапсуляция), Возможность повторного использования (наследование), Гибкость и модификация



# 10. Вычислительные механизмы
это методы и инструменты, используемые для выполнения вычислений и обработки информации в компьютерных системах. Они обеспечивают основу для функционирования программного обеспечения и реализации алгоритмов.
Примеры: ЦП, Арифметико-логическое устройство, Память, Регистры, Кеш-память, Устройства ввода-вывода


# 11. Виртуальные вычислительные машины
абстрагирование -  это обобщённое название для модели (ВВМ) – которой нет в природе и обладает существенными сторонами с со сокрытие деталей.
Виртуализация – абстрактное (модельное) представление вычислительных ресурсов программно-аппаратной платформы.
Виртуальная вычислительная машина (ВВМ) – техническое решение, реализующее семантику модели вычислений (MoC).
Разделение вычислительной системы на механизмы и вычислительные виртуальные машины.
Особенности: Изоляция, Апаратная эмуляция, Гибкость и портативность, Управление ресурсами


# 12. Архитектура ВсС как иерархия ВВМ
Архитектура ВсС (Виртуальной системы с командной обработкой) является одним из подходов к проектированию встроенных систем.
используют внутреннюю память для хранения программ и данных, а также выполняют все операции непосредственно в этой памяти.
Иерархия ВВМ (вычислительно-управляющих машин) является одной из концепций организации памяти в АВС. Цель иерархии ВВМ состоит в том, чтобы увеличить скорость доступа к данным путем использования более быстрой, но более дорогой памяти на более низком уровне, и передавать данные между уровнями при необходимости.


# 13. Платформы в проектировании ВсС
Вычислительная платформа определяется как множество проектов, удовлетворяющее некоторому общему условию
Важнейшее свойство вычислительной платформы, как зафиксированного для повторного использования набора спецификаций, – возможность предоставлять заданный уровень абстрагирования от конкретики реализации.
вычислительная платформа (ВПл) рассматривается как единство «внешнего» и «внутреннего» представления функционально завершенного
Проектные платформы
• Вычислительные платформы (процессоры, ОС, MoC и т.д.):
• Архитектурная платформа
	• Платформы промышленных ПК и ПЛК;
	• Полуфабрикаты от мультимедиа-индустрии;
	• Микроконтроллеры и DSP;
	• ПЛИС, ПСнК;
	• ASIC, ASSP, ASIP, SOC, NOC;
	• «Свободная» кремниевая компиляция.
• Платформы системного ПО (ОС), сетевые, интерфейсные, конструктивные, инструментальные и другие


# 14. Единое проектное пространство технических решений ВсС
– это концепция, которая предполагает создание единой среды, объединяющей различные аспекты разработки и управления встроенными системами.
представляет собой совокупность инструментов, методов и процессов, которые позволяют разработчикам и инженерам работать над проектом встроенной системы единообразно и скоординировано.
Эти инструменты позволяют создавать и визуализировать модели аппаратного и программного обеспечения, проводить анализ системы, проверять соответствие требованиям и выполнять другие задачи.
Целью ЕППТР ВсС является повышение эффективности разработки встроенных систем, сокращение времени и затрат на проекты, улучшение качества и надежности системы.



# 15. Координаты проектного пространства
Система проектных координат включает как вычислительные (непосредственно связанные с целевой функциональностью), так и невычислительные плоскости. Примерами вычислительных осей координат могут служить соотношение HW/SW реализации, степени реконфигурируемости, распределенности, параллелизма, on/off-board размещение различных категорий функций (в первую очередь, инструментальных), реализация design/run-time (on/off-line) фаз вычислительного процесса и другие. Невычислительные оси могут представлять технические решения по конструкции узлов, способам документирования частей проекта, системе энергопитания, вопросам обеспечения тепловых режимов, электромагнитной совместимости, технологии производства, метрологии и другим.

# 16. Расширение задачи проектирования ВсС до задачи непосредственной организации целевого вычислительного процесса
Расширенную постановку задачи проектирования ВсС как задачи организации конкретного вычислительного процесса в соответствии с ТЗ, которая должна быть решена с помощью конкретных проектных мероприятий.
Задачи: Анализ требований, Разбиение на задачи, Выбор алгоритмов и структур данных, Организация системы , Проектирование интерфейсов Реализация и интеграция
Объединение потоков проектирования целевого продукта и его инструментального обеспечения на ранней стадии работ позволяет значительно повысить качество создаваемой ВсС.


# 17. Принцип актуализации вычислительного процесса ВсС
Он определяет основной принцип, который позволяет вычислительной системе эффективно использовать вычислительные ресурсы и обеспечивать требуемую функциональность в заданных условиях.
Суть принципа актуализации состоит в том, что система должна активно мониторить свою окружающую среду и изменять свое поведение в реальном времени на основе полученной информации
Принципы актуализации: Мониторинг, Анализ , Реакция , Исполнение 


# 18. Архитектурная платформа
Архитектурная платформа является объединением таких элементов процесса проектирования как:
• аспектное пространство процесса проектирования (перечень аспектов проектирования);
• модель (модели) вычислений;
• внешние факторы, задающие допустимые соотношения между отдельными аспектами (критерии проектирования);
• перечень зафиксированных шаблонов повторного использования;
• элементная база.
Она диктует определенные характеристики элементной базы, определяя тем самым допустимые соотношения между отдельными аспектами.
Реконфигурируемость - способность к изменению “воплощаемой” при реализации MoC.
• на этапе проектирования, когда конфигурированию подлежат те или иные методики;
• на этапе реализации, когда устанавливаются те или иные параметры компиляции или используются различные компоненты элементной базы;
• на этапе исполнения, когда система позволяет гибко адаптировать функциональность.


# 19. Критерии проектирования архитектуры ВсС
В рамках архитектурного проектирования необходимо сформулировать критерии, которые позволят формальным образом оценивать качество принимаемых решений и эффективность проектирования в целом.
Для архитектурного проектирования критерием эффективности может быть себестоимость конечного изделия, срок разработки, равномерность загрузки коллектива разработчиков, качество и надежность проектируемой системы, степень повторного использования наработок и т.д. 
В качестве критерия может выступать требование оптимизации частных “вычислительных” характеристик системы при зафиксированных остальных параметрах системы.
многокритериальную оптимизацию решения:
*существуют эффективные решения
* два решения сравнимы
из двух сравнимых решений, безусловно, лучше то, у которого хотя бы один критерий строго лучше
из двух сравнимых решений, безусловно, лучше то, у которого хотя бы один критерий строго лучше соответствующего критерия другого;
• только для эффективных решений между альтернативными критериями имеется такая взаимосвязь, при которой улучшение одного критерия влечет ухудшение хотя бы одного из других;
• для получения такой взаимозависимости необходимо определить предельное улучшение любого критерия при фиксированных значениях остальных, которые, в свою очередь, меняются в заданных пределах;
• какой бы критерий не выбрать в качестве улучшаемого при заданном значении остальных, результатом оптимизации будет одна и та же взаимосвязь между критериями.


# 20. Процесс проектирования типовой ВсС
Шаблоны формируются в терминах разработанной системы абстракций и с учетом аспектной модели проектирования
 ![[Pasted image 20240424194519.png]]
Рис Шаблон процесса проектирования ВсС на основе традиционной для ВС схемы проектирования
этот процесс инвариантен к уровню реализации. Он может сводиться к любому уровню абстракции, требуя уточнения блоков оценки функциональных требований (ФТ) и нефункциональных требований (НФТ);
• ТЗ уже подготовлено для реализации ВС, то есть для проектируемой системы в целом уже решены вопросы выделения функций «навешиваемых» на вычислительную систему (это во многих случаях неэффективно);
• процесс отражает в явном виде каноническую архитектуру ВС и приоритеты как между ФТ и НФТ, так и в рамках процесса реализации ФТ (эффективность потенциально низкая).
Недостатки:
• присутствует жесткая привязка ВПл
• много задач, которые при такой гранулярности ВПл окажутся практически не поддержанными
• в процессе доминирует функциональность
характеризуется низкой сбалансированностью проектирования сложных, критичных к ресурсам
• по времени проектирования – в единицы раз;
• по избыточности реализации – до десятков раз.



# 21. Перспективный процесс проектирования сложных ВсС
![[Pasted image 20240424194533.png]]
Представлен шаблон процесса проектирования ВсС на базе аспектной модели и композиции ВПл. Его преимуществами являются:
• параллельная сбалансированная работа с ФТ и НФТ;
• генерация архитектуры с позиций предложенной системы абстракций;
• объединение фаз проектирования и исполнения вычислительного процесса в единое пространство технических решений;
• отложенная фаза аппаратно-программного разделения. Недостатками процесса на сегодня следует считать:
• то, что процесс не знаком большинству разработчиков;
• процесс предполагает наличие компетенций в области вычислительных абстракций.

# 22. Реализация архитектурных моделей ВсС
В качестве классификационного признака реализации предлагается использовать формальное определение команды как управляющей структуры с фиксированным форматом. Тогда под аппаратной реализацией можно понимать прямое исполнение алгоритма, когда нет "форматных" управляющих структур – микрокоманд, команд. Под программной реализацией можно понимать многоуровневую интерпретацию, когда есть "форматные" управляющие структуры – примитивы, и их последовательности – программы.
Довольно часто программную реализацию связывают с использованием принципа программного управления при проектировании устройства. Также широко распространено мнение об обязательном свойстве последовательной интерпретации управляющей информации устройством для отнесения его к разряду программно-реализованных.
Явным случаем аппаратной реализации является отсутствие в устройстве регулярных структур вообще (нерегулярная "жесткая" логика, то, что выше было названо "клубком схем").


# 23. Микроархитектура компонентов ВсС
Микроархитектура в свою очередь определяет принципы внутренней организации вычислителя, позволяющие реализовать заданную ISA. Одна и та же ISA может быть реализована с помощью различных микроархитектур.
При построении компонентов ВсС можно оперировать следующими понятиями:
Базовая вычислительная платформа, в свою очередь является виртуальной машиной;
Виртуализация;
ISA;
Микроархитектура.


# 24. Микроархитектура на основе композиции "шаблон-конфигурация"
Данная технология проектирования микроархитектуры включает следующие основные шаги:
1.	Анализ нижележащей ISA и выделение в явном виде набора примитивных инструкций.
2.	Создание множества кортежей примитивных инструкций, реализующих инструкции вышележащей ISA. 
3.	Минимизация количества уникальных кортежей за счет создания шаблонов с помощью обобщения кортежей и введения определенных конфигураций.          
Основная задача: рациональная минимизация количества шаблонов за счет усложнения конфигурации. Ограничениями в процессе минимизации могут стать отношение временных масштабов, ресурсоемкость реализаций, “регулярность” вычислительных структур и алгоритмов. Основной областью применения описанной технологии является разработка драйверов ввода/вывода и реализация протоколов обмена.
В рамках такого подхода к проектированию микроархитектур были, например, реализованы драйверы ввода-вывода для платформы аналитических приборов «МиниЛаб»:
•	Подсистема ввода/вывода keX;
•	Драйвер I2C: шаблон i2cExchange();
•	Драйвер DataFlash: 3 структурных шаблона реализуют 28 инструкций;
•	Драйвер 1-Wire;
•	Драйвер IEEE 802.15.4 (в процессе разработки).


# 25. Роль моделирования в архитектурном проектировании ВсС
Моделировать проектируемую ВсС можно на разных уровнях абстракции и применять при этом различные средства и языки моделирования. 
При проектировании ВсС моделирование призвано решать следующие задачи: верификация (целевая и эквивалентная), виртуальное прототипирование, реализация компонентов системы (hardware и software), специфицирование и документирование разрабатываемых компонентов.
В рамках проектирования ВсС процесс моделирования выглядит следующим образом. На начальных этапах проектирования модель представляет собой высокоуровневое поведенческое описание системы. Данное описание необходимо верифицировать на адекватность решаемой целевой задаче. Собственно, получение такой модели сам по себе достаточно сложный процесс, идущий параллельно с целевой верификацией и системным проектированием. Однако, после создания полной модели системы, ее необходимо “реализовать”. Реализация модели заключается в следующем:
o	Принять решение о способе реализации каждого механизма построенной модели;
o	Получить перечень стандартных компонентов (микропроцессоров,микроконтроллеров, интерфейсов, протоколов и т.д.), используемых в системе;
o	Получить объектный код для программно реализованных компонент (SW реализация);
o	Получить конфигурацию программируемой	логики для аппаратно реализованных компонент (HW реализация).


# 26. Эталонная А-модель ВсС
Эталонная модель – верифицированная и зафиксированная архитектурная модель системы, не ограничивающая способов реализации. Она может быть реализуемой А-моделью. Абстрактная А-модель требует дальнейшей проработки и не пригодна для реализации. 
Моделирование на начальных этапах связано с доказательством адекватности разработанной архитектуры начальным требованиям. Разработчик на этих этапах вынужден применять достаточно сложные методы “функциональной” верификации. Зачастую такие методы носят полуформальный характер и относительно слабо поддержаны инструментальными средствами. Данный тип верификации призван доказать соответствие полученных характеристик А-модели и сформулированных в требованиях к системе характеристик.
При окончательном формировании “золотой” модели процесс моделирования переходит в фазу реализации. На этом этапе моделирование направлено на верификацию отдельных узлов, а не всей системы в целом, и призвано доказать эквивалентность реализаций. В конечном итоге задача разработчика доказать эквивалентность полученных при реализации характеристик и характеристик, заданных “золотой” моделью. На этом этапе преобладают сравнительно простые, но трудоемкие методы эквивалентной верификации и для большинства преобразований существуют специальные САПР.
Еще одной важной задачей “золотой” модели становится создание исходных спецификаций для разработчиков, которые занимаются конечной реализацией компонентов и узлов системы.


# 27. Аспектный подход в проектировании ВсС
Суть аспектного взгляда на процесс проектирования ВсС вытекает, в первую очередь, из возможности представления ВС посредством совокупности проектных платформ и из целесообразности выделения в проекте отдельных частных проблем (аспектов), решение которых необходимо обеспечивать по ходу разработки на всех основных этапах.
В основе этого подхода лежит идея выделение аспекта как сегмента проектного пространства, в рамках которого отражается частная проблема в проекте.
Перечислим основные понятия аспектной модели проектирования.
1)	Аспект – искусственно выделяемый сегмент проектного пространства, отражающий частную проблему проекта по ходу его выполнения (концептуальный, локальный). Примеры аспектов: 
·	функциональный	
·	надежностный;
·	энергетический;
·	синхронизации / синхронности / РМВ;
·	информационной безопасности;
·	конструкторско-технологический;
·	повторного использования;
·	масштабируемости, реконфигурируемости;
·	документно-логистический и другие.
2)	Архитектурный агрегат (А-агрегат, AA) – элемент проекта. Обладает группами свойств в рамках каждого аспекта. Текущая информация о свойствах AA отражается в его спецификации, а связи между AA в пределах аспекта представляются списком ANL (aspect netlist). Совокупность AA на каждом шаге определяет текущее представление целевой системы и текущее состояние проекта.
3)	Архитектурная модель (А-модель) – модель проекта/целевой системы, включающая перечень аспектов, совокупность AA, аспектные списки связей (ANL) и спецификации для каждого AA.
4)	Архитектурная платформа – элемент повторного использования концептуальных решений (А-модель, полезная для повторного использования, зафиксированная в качестве самостоятельного продукта):
5)	Механизм	(Мх)	– верифицированный и отложенный для повторного использования AA, снабженный набором метрик (характеристик).
Суть аспектного процесса проектирования состоит в том, что на начальном шаге проект разделяется на аспекты, дальше выполняется параллельное относительно независимое проектирование в рамках аспектов системы и в конечном итоге аспекты собираются воедино в реализацию системы.


# 28. Аспектное пространство проектирования
Каждый процесс проектирования характеризуется набором аспектов проектирования, которые выделяет разработчик. Объединение всех таких аспектов даст некоторое множество, которое называется аспектным пространством процесса проектирования, отражающее архитектуру всего проекта в целом (framework). Количество рассматриваемых в процессе проектирования аспектов определяет количество элементов в аспектном пространстве процесса проектирования. Этот параметр процесса проектирования называется аспектной полнотой.

# 29. Архитектур и архитектурные агрегаты
Альтернативой структурно-функциональному рассмотрению ВС выступает архитектурное рассмотрение. Центральным понятием всего процесса проектирования ВС в этом случае становится архитектура ВС – совокупность концептуальных аспектов ВС некоторого уровня детализации, адекватно отображающая проектируемую систему для данного уровня рассмотрения..
Как было предложено в аспектной модели процесса проектирования, в перечень концептуальных аспектов, составляющих архитектуру ВсС, помимо традиционных структурных и функциональных элементов входят элементы, вызванные другими факторами, влияющими на процесс проектирования, такие как надежность, энергопотребление, конструкция и т.д. В общем случае, являясь центральным понятием процесса проектирования, это архитектурное рассмотрение содержит в себе все составляющие соответственно процесса проектирования и создаваемого продукта. Все эти составляющие именуются аспектами проектирования (или просто аспектами).
Конкретный перечень аспектов формируется разработчиком с учетом условий проектирования. Условия определяются как ТЗ (прямо и/или косвенно), так и стилем, возможностями и общими целями самого коллектива разработчиков. На основании опыта работы в области создания ВсС можно выделить наиболее часто встречающиеся аспекты проектирования (список аспектов открытый, но в каждом случае конечный): функциональный, структурный, надежностный, конструктивно-технологический, энергетический, климатический, инструментальный, повторного использования, организационно-экономический, документный и др.


# 30. Классификация архитектурных моделей
Рассматривая А-модель системы с точки зрения образующих ее А- агрегатов можно выделить 3 класса А-моделей:
·	Абстрактная А-модель. В такой модели существует хотя бы один абстрактный А-агрегат.
·	Виртуальная А-модель. В такой модели нет абстрактных А-агрегат, но существует хотя бы один виртуальный А-агрегат.
·	Реализуемая А-модель. В данной модели нет ни одного абстрактного или виртуального А-агрегата.
Абстрактная А-модель принципиально нереализуема и требует дальнейшей доработки, если это модель конкретной целевой системы. 
Виртуальная А-модель не может быть реализована из-за виртуальных А- агрегатов, но она уже полностью определена и в принципе может быть реализована, если расширить доступную элементную базу или изменить внешние условия.
